(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5894],{9708:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/dashboard",function(){return t(2204)}])},413:function(e,n,t){"use strict";t.d(n,{a:function(){return o}});var r=t(7294),a=t(7169),l=t(9109);let o=()=>{let[e,n]=(0,r.useState)(!1),{setUser:t}=(0,r.useContext)(l.V),o=async e=>{try{n(!0);let t=await a.e.post("/cashouts",e);if(t){var r;return null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.data}}catch(l){}finally{n(!1)}},i=async e=>{try{n(!0);let t=await a.e.post("/purchases",{listingId:e});if(t)return(null==t?void 0:t.data)&&window.location.reload()}catch(r){}finally{n(!1)}},s=async()=>{try{n(!0);let e=await a.e.patch("/users/become-an-agent");if(e){var r;let l=null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.data;sessionStorage.setItem("user",JSON.stringify(l)),t(l),window.location.reload()}}catch(o){}finally{n(!1)}},d=async e=>{try{n(!0);let t=await a.e.delete("/users/"+e);if(t)return null==t?void 0:t.data}catch(r){}finally{n(!1)}},c=async(e,t)=>{try{n(!0),await a.e.patch("/users/upload-kyc-document/"+t,{kycDocument:e})}catch(r){}finally{n(!1)}},u=async(e,t)=>{try{n(!0),await a.e.patch("/users/upload-avatar/"+t,{avatar:e})}catch(r){}finally{n(!1)}},m=async()=>{try{n(!0),await a.e.post("/wallets")}catch(e){}finally{n(!1)}},v=async e=>{try{n(!0),await a.e.patch("/wallets/cashout-wallet/add",e)}catch(t){}finally{n(!1)}},x=async e=>{try{n(!0);let t=await a.e.post("/deposits",e);if(t){var r,l,o;return window.open(null==t?void 0:null===(r=t.data)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:null===(o=l.resource)||void 0===o?void 0:o.paymentUrl,"_blank")}}catch(i){}finally{n(!1)}},h=async e=>{console.log(e)},g=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{n(!0);let r=await a.e.get("/listings?page=".concat(e,"&pageSize=").concat(t));if(null==r?void 0:r.data){var l;return null==r?void 0:null===(l=r.data)||void 0===l?void 0:l.data}}catch(o){}finally{n(!1)}},b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{n(!0);let r=await a.e.get("/listings/my-listings/all?page=".concat(e,"&pageSize=").concat(t));if(null==r?void 0:r.data){var l;return null==r?void 0:null===(l=r.data)||void 0===l?void 0:l.data}}catch(o){}finally{n(!1)}},f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{n(!0);let r=await a.e.get("/transactions/my-transactions?page=".concat(e,"&pageSize=").concat(t));if(null==r?void 0:r.data){var l;return null==r?void 0:null===(l=r.data)||void 0===l?void 0:l.data}}catch(o){}finally{n(!1)}},p=async()=>{try{n(!0);let e=await a.e.patch("/users/activate-account");if(e)return null==e?void 0:e.data}catch(t){}finally{n(!1)}};return{loading:e,deleteUser:d,becomeAgent:s,uploadKYCDoc:c,uploadAvatar:u,createWallet:m,addCashoutWallet:v,fundWallet:x,updateUser:h,getListings:g,getMyListings:b,purchaseProperty:i,cashOut:o,getMyTransactions:f,activateAccount:p}}},6117:function(e,n,t){"use strict";t.d(n,{c:function(){return a}});var r=t(5893);let a=e=>{let{children:n}=e;return(0,r.jsx)(r.Fragment,{children:n})}},4876:function(e,n,t){"use strict";t.d(n,{Q:function(){return d},c:function(){return s}});var r=t(5893),a=t(1163),l=t(7294),o=t(5914),i=t(6117);let s=e=>{let n=()=>{let n=(0,a.useRouter)(),t=sessionStorage.getItem("token"),s=sessionStorage.getItem("user");if((0,l.useLayoutEffect)(()=>{t||n.push("/")},[t,n,s]),t&&null!==s&&null!==JSON.parse(s)){var d,c;let u=JSON.parse(s);if((null==u?void 0:null===(d=u.resource)||void 0===d?void 0:null===(c=d.userType)||void 0===c?void 0:c.toLowerCase())===o.D.admin)return(0,r.jsx)(i.c,{children:(0,r.jsx)(e,{})})}};return n},d=e=>{let n=()=>{let n=(0,a.useRouter)(),t=sessionStorage.getItem("token");return(0,l.useLayoutEffect)(()=>{t||n.push("/")},[t,n]),!!t&&(0,r.jsx)(i.c,{children:(0,r.jsx)(e,{})})};return n}},2204:function(e,n,t){"use strict";t.r(n);var r=t(5893),a=t(639),l=t(4493),o=t(3812),i=t(7741),s=t(4520),d=t(2494),c=t(9008),u=t.n(c),m=t(5152),v=t.n(m),x=t(7294),h=t(3750),g=t(9583),b=t(9352),f=t(1649),p=t(7355),y=t(4876),w=t(86),j=t(413),S=t(9109),k=t(5914);let _=v()(()=>Promise.all([t.e(4617),t.e(6556),t.e(9653),t.e(7024),t.e(6497),t.e(2352),t.e(2559)]).then(t.bind(t,2352)),{loadableGenerated:{webpack:()=>[2352]},suspense:!0,ssr:!0}),z=v()(()=>Promise.all([t.e(1228),t.e(9653),t.e(6893),t.e(7024),t.e(4e3),t.e(2065)]).then(t.bind(t,4e3)),{loadableGenerated:{webpack:()=>[4e3]},suspense:!0,ssr:!0}),N=v()(()=>Promise.all([t.e(4617),t.e(6556),t.e(9653),t.e(2216),t.e(7024),t.e(6497),t.e(4389),t.e(3599)]).then(t.bind(t,4389)),{loadableGenerated:{webpack:()=>[4389]},suspense:!0,ssr:!0}),C=v()(()=>Promise.all([t.e(4617),t.e(6556),t.e(1228),t.e(9653),t.e(2216),t.e(6893),t.e(7024),t.e(6497),t.e(6456),t.e(6223),t.e(2766),t.e(2352),t.e(4e3),t.e(8700),t.e(4389),t.e(3703)]).then(t.bind(t,3703)).then(e=>e.Notification),{loadableGenerated:{webpack:()=>[3703]},suspense:!1,ssr:!0}),I=v()(()=>Promise.all([t.e(4617),t.e(9653),t.e(2216),t.e(7024),t.e(6497),t.e(6456),t.e(2766),t.e(8700),t.e(112)]).then(t.bind(t,8700)),{loadableGenerated:{webpack:()=>[8700]},suspense:!1,ssr:!0}),L=[{name:"Market Place",url:"/user/market",icon:h.KMp},{name:"Portfolio",url:"/user/portfolio",icon:f.xXy},{name:"Wallet",url:"/user/wallet",icon:b.VWx},{name:"Notification",url:"/user/notification",icon:g.Z3q},{name:"Account",url:"/user/account",icon:g.m3W}],O=["market","portfolio","wallet","notification","account"],W=()=>{var e,n,t,c,m,v,h,g,b,f,y,W,P,T,E,J;let{loading:A,becomeAgent:D}=(0,j.a)(),[G,X]=(0,x.useState)(0),F=e=>{sessionStorage.setItem("currentRoute",L[e].name),X(e)},U=sessionStorage.getItem("agentFee")||0;(0,x.useLayoutEffect)(()=>{let e=sessionStorage.getItem("currentRoute");null!==e&&F(L.findIndex(n=>n.name===e))},[G]);let{user:K}=(0,x.useContext)(S.V);return(0,r.jsxs)(x.Suspense,{fallback:(0,r.jsx)(p.j,{}),children:[(0,r.jsxs)(u(),{children:[(0,r.jsxs)("title",{children:["Landpillar ||"," ",O[G].charAt(0).toUpperCase()+O[G].slice(1)]}),(0,r.jsx)("meta",{name:"description",content:" Landpillar ||\n          ".concat(O[G].charAt(0).toUpperCase()+O[G].slice(1))}),(0,r.jsx)("link",{rel:"icon",href:"/landpillar-logo.svg"})]}),(0,r.jsx)(a.xu,{bg:"brand.200",children:(0,r.jsx)(a.xu,{maxW:"container.xl",children:(0,r.jsxs)(l.mQ,{align:"end",size:"md",variant:"unstyled",color:"brand.550",colorScheme:"brand",defaultIndex:1,bg:"brand.550",minW:"100%",isLazy:!0,pos:"sticky",top:"0",zIndex:"999",children:[(0,r.jsxs)(l.td,{px:{base:"0rem",md:"1rem",lg:"2rem"},p:0,children:[(0,r.jsx)(l.OK,{bg:"brand.550",_selected:{color:"brand.750",bg:"brand.300"},_hover:{color:"brand.750",bg:"brand.300"},isDisabled:(null==K?void 0:null===(e=K.resource)||void 0===e?void 0:null===(n=e.userType)||void 0===n?void 0:n.toLowerCase())===k.D.agent||(null===(t=JSON.parse(sessionStorage.getItem("user")))||void 0===t?void 0:null===(c=t.resource)||void 0===c?void 0:c.userType.toLowerCase())===k.D.agent,children:(0,r.jsx)(a.X6,{color:"brand.650",fontWeight:500,lineHeight:"1.25rem",fontSize:{base:".5rem",md:".699rem",lg:".8rem",xl:"1rem"},children:(null===(m=K.resource)||void 0===m?void 0:null===(v=m.userType)||void 0===v?void 0:v.toLowerCase())!==k.D.agent&&(null===(h=JSON.parse(sessionStorage.getItem("user")))||void 0===h?void 0:null===(g=h.resource)||void 0===g?void 0:null===(b=g.userType)||void 0===b?void 0:b.toLowerCase())!==k.D.agent&&"Become an Agent"})}),(0,r.jsx)(l.OK,{bg:"brand.550",_selected:{color:"brand.750",bg:"brand.300"},_hover:{color:"brand.750",bg:"brand.300"},children:(0,r.jsxs)(a.Ug,{children:[(0,r.jsx)(o.qE,{size:"sm"}),(0,r.jsxs)(a.X6,{color:"brand.650",fontWeight:500,fontSize:{base:".5rem",md:".699rem",lg:".8rem",xl:"1rem"},lineHeight:"1.25rem",children:[" ",(null==K?void 0:null===(f=K.resource)||void 0===f?void 0:f.firstName)||(null===(y=JSON.parse(sessionStorage.getItem("user")))||void 0===y?void 0:null===(W=y.resource)||void 0===W?void 0:W.firstName)," ",(null==K?void 0:null===(P=K.resource)||void 0===P?void 0:P.lastName)||(null===(T=JSON.parse(sessionStorage.getItem("user")))||void 0===T?void 0:null===(E=T.resource)||void 0===E?void 0:E.lastName)]})]})})]}),(0,r.jsxs)(l.nP,{w:"100%",pos:"relative",zIndex:"9",children:[(0,r.jsx)(l.x4,{children:(0,r.jsx)(a.kC,{h:"100vh",w:"100vw",justify:"center",align:"center",bg:"brand.200",children:(0,r.jsxs)(a.xu,{boxSizing:"border-box",shadow:"lg",px:{base:"2rem",md:"4rem",lg:"3rem"},py:{base:"1.5rem",md:"3.5rem",lg:"2.5rem"},rounded:"md",boxShadow:"0px 4px 32px rgba(0, 0, 0, 0.15)",children:[(0,r.jsx)(a.xv,{textAlign:"center",textTransform:"capitalize",color:"brand.1000",fontWeight:500,my:"1rem",fontSize:{base:"1rem",md:"1.4rem",lg:"1.8rem"},children:"Become an Agent"}),(0,r.jsxs)(a.xv,{textAlign:"center",color:"brand.1000",fontWeight:300,my:"1rem",fontSize:{base:".6rem",md:".789rem",lg:".8rem"},children:["To become an agent, a fee of $"," ",(0,w.xG)(null==K?void 0:null===(J=K.extra)||void 0===J?void 0:J.agentFee)||U," will be deducted from your wallet."]}),(0,r.jsx)(i.zx,{mt:"1rem",textTransform:"uppercase",w:"100%",bg:"brand.1000",color:"brand.300",fontSize:{base:".6rem",md:".8rem",lg:"1rem"},fontWeight:"400",_hover:{bg:" brand.1100"},disabled:A,onClick:async()=>await D(),children:A?"Loading...":" Proceed"})]})})}),(0,r.jsx)(l.x4,{children:(0,r.jsxs)(l.mQ,{isLazy:!0,isFitted:!0,size:"md",variant:"unstyled",color:"brand.1000",colorScheme:"brand",bg:"brand.300",maxW:"container.xl",index:G,onChange:e=>F(e),children:[(0,r.jsx)(l.td,{as:a.kC,justifyContent:"space-between",overflowX:"auto",css:(0,s.iv)({scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},"-webkit-overflow-scrolling":"touch",boxShadow:"inset 0 -2px 0 rgba(0, 0, 0, 0.1)",border:"0 none"}),children:L.map(e=>{let{name:n,url:t,icon:o}=e;return(0,r.jsx)(l.OK,{_selected:{bg:"brand.1000",color:"brand.200"},color:"brand.750",_hover:{color:"brand.200",bg:"brand.1000"},w:"auto",px:{base:"0rem",md:".5rem",lg:"1.8rem",xl:"2rem"},children:(0,r.jsxs)(a.Ug,{p:"1rem",children:[(0,r.jsx)(d.JO,{as:o}),(0,r.jsx)(a.X6,{fontWeight:500,fontSize:{base:".5rem",md:".699rem",lg:".8rem",xl:"1rem"},lineHeight:"1.25rem",children:n})]})},n)})}),(0,r.jsxs)(l.nP,{p:0,children:[(0,r.jsx)(l.x4,{mb:"4rem",children:0===G&&(0,r.jsx)(x.Suspense,{fallback:(0,r.jsx)(p.w,{}),children:(0,r.jsx)(_,{})})}),(0,r.jsx)(l.x4,{children:1===G&&(0,r.jsx)(x.Suspense,{fallback:(0,r.jsx)(p.w,{}),children:(0,r.jsx)(N,{})})}),(0,r.jsx)(l.x4,{children:2===G&&(0,r.jsx)(x.Suspense,{fallback:(0,r.jsx)(p.w,{}),children:(0,r.jsx)(I,{})})}),(0,r.jsx)(l.x4,{children:3===G&&(0,r.jsx)(x.Suspense,{fallback:(0,r.jsx)(p.w,{}),children:(0,r.jsx)(C,{})})}),(0,r.jsx)(l.x4,{children:4===G&&(0,r.jsx)(x.Suspense,{fallback:(0,r.jsx)(p.w,{}),children:(0,r.jsx)(z,{})})})]})]})})]})]})})})]})};n.default=(0,y.Q)(W)},86:function(e,n,t){"use strict";t.d(n,{__:function(){return l},uf:function(){return a},xG:function(){return r}});let r=e=>{if(void 0!==e)return e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},a=e=>{if(void 0!==e)return e.toFixed(1).replace(/\d(?=(\d{3})+\.)/g,"$&,")};function l(e){var n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),n.join(".")}}},function(e){e.O(0,[5445,2013,9866,5937,9918,6226,9774,2888,179],function(){return e(e.s=9708)}),_N_E=e.O()}]);